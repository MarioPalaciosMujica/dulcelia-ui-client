!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common"),require("@angular/forms")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/common","@angular/forms"],e):e(t.ngxBarRating=t.ngxBarRating||{},t.ng.core,t.ng.common,t.ng.forms)}(this,function(t,e,n,r){"use strict";var i={provide:r.NG_VALUE_ACCESSOR,useExisting:e.forwardRef(function(){return a}),multi:!0},o={provide:r.NG_VALIDATORS,useExisting:e.forwardRef(function(){return a}),multi:!0},a=function(){function t(t){this.changeDetectorRef=t,this.contexts=[],this.max=5,this.readOnly=!1,this.theme="default",this.showText=!1,this.titles=[],this.required=!1,this.hover=new e.EventEmitter,this.leave=new e.EventEmitter,this.rateChange=new e.EventEmitter(!0),this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.ngOnChanges=function(t){t.rate&&this.update(this.rate)},t.prototype.ngOnInit=function(){var t=this;this.contexts=Array.from({length:this.max},function(e,n){return{selected:!1,fraction:!1,click:function(e){return t.handleClick(e,n+1)},enter:function(){return t.handleEnter(n+1)}}}),this.updateState(this.rate)},t.prototype.update=function(t,e){void 0===e&&(e=!0),this.readOnly||this.disabled||this.rate===t||(this.rate=t,this.rateChange.emit(this.rate)),e&&(this.onChange(this.rate),this.onTouched()),this.updateState(this.rate)},t.prototype.reset=function(){this.leave.emit(this.nextRate),this.updateState(this.rate)},t.prototype.updateState=function(t){var e=this;this.nextRate=t-1,this.contexts=Array.from({length:this.max},function(n,r){return{selected:r+1<=t,fraction:(r+1===Math.round(t)&&t%1)>=.5,click:function(t){return e.handleClick(t,r)},enter:function(){return e.handleEnter(r)}}})},t.prototype.handleClick=function(t,e){t.preventDefault(),t.stopPropagation(),this.update(e+1)},t.prototype.handleEnter=function(t){this.disabled||this.readOnly||(this.contexts.map(function(e,n){e.active=n<=t,e.fraction=!1,e.selected=!1}),this.nextRate=t,this.hover.emit(t))},t.prototype.writeValue=function(t){this.update(t,!1),this.changeDetectorRef.markForCheck()},t.prototype.validate=function(t){return this.required&&!t.value?{required:!0}:null},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this.disabled=t},t}();a.decorators=[{type:e.Component,args:[{selector:"bar-rating",template:'\n    <div [class]="\'br br-\' + theme" [class.br-readonly]="readOnly" [class.br-disabled]="disabled">\n\n      <div class="br-units" (mouseleave)="reset()">\n\n        <div class="br-unit" *ngFor="let unit of contexts" [class.br-fraction]="unit.fraction"\n            [class.br-selected]="unit.selected" [class.br-active]="unit.active"\n            (click)="unit.click($event)" (mouseenter)="unit.enter()"></div>\n\n      </div>\n\n      <div *ngIf="showText" class="br-text">{{ nextRate | rateTitle: titles}}</div>\n    </div>\n  ',styles:["\n    *{box-sizing:border-box}.br{position:relative;margin:15px 0}.br-units{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.br-unit{cursor:pointer;-webkit-font-smoothing:antialiased;text-rendering:auto}.br-disabled .br-unit,.br-readonly .br-unit{cursor:default}\n  "],providers:[i,o],changeDetection:e.ChangeDetectionStrategy.OnPush}]}],a.ctorParameters=function(){return[{type:e.ChangeDetectorRef}]},a.propDecorators={rate:[{type:e.Input}],max:[{type:e.Input}],readOnly:[{type:e.Input}],theme:[{type:e.Input}],showText:[{type:e.Input}],titles:[{type:e.Input}],required:[{type:e.Input}],hover:[{type:e.Output}],leave:[{type:e.Output}],rateChange:[{type:e.Output}]};var s=function(){function t(){}return t.prototype.transform=function(t,e){return void 0===t&&(t=0),e[t]||t+1},t}();s.decorators=[{type:e.Pipe,args:[{name:"rateTitle"}]}],s.ctorParameters=function(){return[]};var u=function(){function t(){}return t}();u.decorators=[{type:e.NgModule,args:[{declarations:[a,s],imports:[n.CommonModule,r.FormsModule],exports:[a]}]}],u.ctorParameters=function(){return[]},t.BarRatingModule=u,Object.defineProperty(t,"__esModule",{value:!0})});

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LWJhci1yYXRpbmcudW1kLmpzIiwic291cmNlcyI6WyJuZ3gtYmFyLXJhdGluZy51bWQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VzQ29udGVudCI6WyIhZnVuY3Rpb24odCxlKXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZT9lKGV4cG9ydHMscmVxdWlyZShcIkBhbmd1bGFyL2NvcmVcIikscmVxdWlyZShcIkBhbmd1bGFyL2NvbW1vblwiKSxyZXF1aXJlKFwiQGFuZ3VsYXIvZm9ybXNcIikpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW1wiZXhwb3J0c1wiLFwiQGFuZ3VsYXIvY29yZVwiLFwiQGFuZ3VsYXIvY29tbW9uXCIsXCJAYW5ndWxhci9mb3Jtc1wiXSxlKTplKHQubmd4QmFyUmF0aW5nPXQubmd4QmFyUmF0aW5nfHx7fSx0Lm5nLmNvcmUsdC5uZy5jb21tb24sdC5uZy5mb3Jtcyl9KHRoaXMsZnVuY3Rpb24odCxlLG4scil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9e3Byb3ZpZGU6ci5OR19WQUxVRV9BQ0NFU1NPUix1c2VFeGlzdGluZzplLmZvcndhcmRSZWYoZnVuY3Rpb24oKXtyZXR1cm4gYX0pLG11bHRpOiEwfSxvPXtwcm92aWRlOnIuTkdfVkFMSURBVE9SUyx1c2VFeGlzdGluZzplLmZvcndhcmRSZWYoZnVuY3Rpb24oKXtyZXR1cm4gYX0pLG11bHRpOiEwfSxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLmNoYW5nZURldGVjdG9yUmVmPXQsdGhpcy5jb250ZXh0cz1bXSx0aGlzLm1heD01LHRoaXMucmVhZE9ubHk9ITEsdGhpcy50aGVtZT1cImRlZmF1bHRcIix0aGlzLnNob3dUZXh0PSExLHRoaXMudGl0bGVzPVtdLHRoaXMucmVxdWlyZWQ9ITEsdGhpcy5ob3Zlcj1uZXcgZS5FdmVudEVtaXR0ZXIsdGhpcy5sZWF2ZT1uZXcgZS5FdmVudEVtaXR0ZXIsdGhpcy5yYXRlQ2hhbmdlPW5ldyBlLkV2ZW50RW1pdHRlcighMCksdGhpcy5vbkNoYW5nZT1mdW5jdGlvbih0KXt9LHRoaXMub25Ub3VjaGVkPWZ1bmN0aW9uKCl7fX1yZXR1cm4gdC5wcm90b3R5cGUubmdPbkNoYW5nZXM9ZnVuY3Rpb24odCl7dC5yYXRlJiZ0aGlzLnVwZGF0ZSh0aGlzLnJhdGUpfSx0LnByb3RvdHlwZS5uZ09uSW5pdD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5jb250ZXh0cz1BcnJheS5mcm9tKHtsZW5ndGg6dGhpcy5tYXh9LGZ1bmN0aW9uKGUsbil7cmV0dXJue3NlbGVjdGVkOiExLGZyYWN0aW9uOiExLGNsaWNrOmZ1bmN0aW9uKGUpe3JldHVybiB0LmhhbmRsZUNsaWNrKGUsbisxKX0sZW50ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdC5oYW5kbGVFbnRlcihuKzEpfX19KSx0aGlzLnVwZGF0ZVN0YXRlKHRoaXMucmF0ZSl9LHQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPSEwKSx0aGlzLnJlYWRPbmx5fHx0aGlzLmRpc2FibGVkfHx0aGlzLnJhdGU9PT10fHwodGhpcy5yYXRlPXQsdGhpcy5yYXRlQ2hhbmdlLmVtaXQodGhpcy5yYXRlKSksZSYmKHRoaXMub25DaGFuZ2UodGhpcy5yYXRlKSx0aGlzLm9uVG91Y2hlZCgpKSx0aGlzLnVwZGF0ZVN0YXRlKHRoaXMucmF0ZSl9LHQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5sZWF2ZS5lbWl0KHRoaXMubmV4dFJhdGUpLHRoaXMudXBkYXRlU3RhdGUodGhpcy5yYXRlKX0sdC5wcm90b3R5cGUudXBkYXRlU3RhdGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0aGlzLm5leHRSYXRlPXQtMSx0aGlzLmNvbnRleHRzPUFycmF5LmZyb20oe2xlbmd0aDp0aGlzLm1heH0sZnVuY3Rpb24obixyKXtyZXR1cm57c2VsZWN0ZWQ6cisxPD10LGZyYWN0aW9uOihyKzE9PT1NYXRoLnJvdW5kKHQpJiZ0JTEpPj0uNSxjbGljazpmdW5jdGlvbih0KXtyZXR1cm4gZS5oYW5kbGVDbGljayh0LHIpfSxlbnRlcjpmdW5jdGlvbigpe3JldHVybiBlLmhhbmRsZUVudGVyKHIpfX19KX0sdC5wcm90b3R5cGUuaGFuZGxlQ2xpY2s9ZnVuY3Rpb24odCxlKXt0LnByZXZlbnREZWZhdWx0KCksdC5zdG9wUHJvcGFnYXRpb24oKSx0aGlzLnVwZGF0ZShlKzEpfSx0LnByb3RvdHlwZS5oYW5kbGVFbnRlcj1mdW5jdGlvbih0KXt0aGlzLmRpc2FibGVkfHx0aGlzLnJlYWRPbmx5fHwodGhpcy5jb250ZXh0cy5tYXAoZnVuY3Rpb24oZSxuKXtlLmFjdGl2ZT1uPD10LGUuZnJhY3Rpb249ITEsZS5zZWxlY3RlZD0hMX0pLHRoaXMubmV4dFJhdGU9dCx0aGlzLmhvdmVyLmVtaXQodCkpfSx0LnByb3RvdHlwZS53cml0ZVZhbHVlPWZ1bmN0aW9uKHQpe3RoaXMudXBkYXRlKHQsITEpLHRoaXMuY2hhbmdlRGV0ZWN0b3JSZWYubWFya0ZvckNoZWNrKCl9LHQucHJvdG90eXBlLnZhbGlkYXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnJlcXVpcmVkJiYhdC52YWx1ZT97cmVxdWlyZWQ6ITB9Om51bGx9LHQucHJvdG90eXBlLnJlZ2lzdGVyT25DaGFuZ2U9ZnVuY3Rpb24odCl7dGhpcy5vbkNoYW5nZT10fSx0LnByb3RvdHlwZS5yZWdpc3Rlck9uVG91Y2hlZD1mdW5jdGlvbih0KXt0aGlzLm9uVG91Y2hlZD10fSx0LnByb3RvdHlwZS5zZXREaXNhYmxlZFN0YXRlPWZ1bmN0aW9uKHQpe3RoaXMuZGlzYWJsZWQ9dH0sdH0oKTthLmRlY29yYXRvcnM9W3t0eXBlOmUuQ29tcG9uZW50LGFyZ3M6W3tzZWxlY3RvcjpcImJhci1yYXRpbmdcIix0ZW1wbGF0ZTonXFxuICAgIDxkaXYgW2NsYXNzXT1cIlxcJ2JyIGJyLVxcJyArIHRoZW1lXCIgW2NsYXNzLmJyLXJlYWRvbmx5XT1cInJlYWRPbmx5XCIgW2NsYXNzLmJyLWRpc2FibGVkXT1cImRpc2FibGVkXCI+XFxuXFxuICAgICAgPGRpdiBjbGFzcz1cImJyLXVuaXRzXCIgKG1vdXNlbGVhdmUpPVwicmVzZXQoKVwiPlxcblxcbiAgICAgICAgPGRpdiBjbGFzcz1cImJyLXVuaXRcIiAqbmdGb3I9XCJsZXQgdW5pdCBvZiBjb250ZXh0c1wiIFtjbGFzcy5ici1mcmFjdGlvbl09XCJ1bml0LmZyYWN0aW9uXCJcXG4gICAgICAgICAgICBbY2xhc3MuYnItc2VsZWN0ZWRdPVwidW5pdC5zZWxlY3RlZFwiIFtjbGFzcy5ici1hY3RpdmVdPVwidW5pdC5hY3RpdmVcIlxcbiAgICAgICAgICAgIChjbGljayk9XCJ1bml0LmNsaWNrKCRldmVudClcIiAobW91c2VlbnRlcik9XCJ1bml0LmVudGVyKClcIj48L2Rpdj5cXG5cXG4gICAgICA8L2Rpdj5cXG5cXG4gICAgICA8ZGl2ICpuZ0lmPVwic2hvd1RleHRcIiBjbGFzcz1cImJyLXRleHRcIj57eyBuZXh0UmF0ZSB8IHJhdGVUaXRsZTogdGl0bGVzfX08L2Rpdj5cXG4gICAgPC9kaXY+XFxuICAnLHN0eWxlczpbXCJcXG4gICAgKntib3gtc2l6aW5nOmJvcmRlci1ib3h9LmJye3Bvc2l0aW9uOnJlbGF0aXZlO21hcmdpbjoxNXB4IDB9LmJyLXVuaXRze2Rpc3BsYXk6LXdlYmtpdC1ib3g7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7LW1zLWZsZXgtd3JhcDpub3dyYXA7ZmxleC13cmFwOm5vd3JhcH0uYnItdW5pdHtjdXJzb3I6cG9pbnRlcjstd2Via2l0LWZvbnQtc21vb3RoaW5nOmFudGlhbGlhc2VkO3RleHQtcmVuZGVyaW5nOmF1dG99LmJyLWRpc2FibGVkIC5ici11bml0LC5ici1yZWFkb25seSAuYnItdW5pdHtjdXJzb3I6ZGVmYXVsdH1cXG4gIFwiXSxwcm92aWRlcnM6W2ksb10sY2hhbmdlRGV0ZWN0aW9uOmUuQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNofV19XSxhLmN0b3JQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuW3t0eXBlOmUuQ2hhbmdlRGV0ZWN0b3JSZWZ9XX0sYS5wcm9wRGVjb3JhdG9ycz17cmF0ZTpbe3R5cGU6ZS5JbnB1dH1dLG1heDpbe3R5cGU6ZS5JbnB1dH1dLHJlYWRPbmx5Olt7dHlwZTplLklucHV0fV0sdGhlbWU6W3t0eXBlOmUuSW5wdXR9XSxzaG93VGV4dDpbe3R5cGU6ZS5JbnB1dH1dLHRpdGxlczpbe3R5cGU6ZS5JbnB1dH1dLHJlcXVpcmVkOlt7dHlwZTplLklucHV0fV0saG92ZXI6W3t0eXBlOmUuT3V0cHV0fV0sbGVhdmU6W3t0eXBlOmUuT3V0cHV0fV0scmF0ZUNoYW5nZTpbe3R5cGU6ZS5PdXRwdXR9XX07dmFyIHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS50cmFuc2Zvcm09ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9MCksZVt0XXx8dCsxfSx0fSgpO3MuZGVjb3JhdG9ycz1be3R5cGU6ZS5QaXBlLGFyZ3M6W3tuYW1lOlwicmF0ZVRpdGxlXCJ9XX1dLHMuY3RvclBhcmFtZXRlcnM9ZnVuY3Rpb24oKXtyZXR1cm5bXX07dmFyIHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0fSgpO3UuZGVjb3JhdG9ycz1be3R5cGU6ZS5OZ01vZHVsZSxhcmdzOlt7ZGVjbGFyYXRpb25zOlthLHNdLGltcG9ydHM6W24uQ29tbW9uTW9kdWxlLHIuRm9ybXNNb2R1bGVdLGV4cG9ydHM6W2FdfV19XSx1LmN0b3JQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuW119LHQuQmFyUmF0aW5nTW9kdWxlPXUsT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9KTtcbiJdfQ==